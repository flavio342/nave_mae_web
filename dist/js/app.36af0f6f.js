(function(e){function t(t){for(var n,a,i=t[0],r=t[1],c=t[2],f=0,d=[];f<i.length;f++)a=i[f],s[a]&&d.push(s[a][0]),s[a]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);u&&u(t);while(d.length)d.shift()();return l.push.apply(l,c||[]),o()}function o(){for(var e,t=0;t<l.length;t++){for(var o=l[t],n=!0,i=1;i<o.length;i++){var r=o[i];0!==s[r]&&(n=!1)}n&&(l.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},s={app:0},l=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=r;l.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"340e":function(e,t,o){"use strict";var n=o("fbff"),s=o.n(n);s.a},"441a":function(e,t,o){},"44e9":function(e,t,o){},"4a62":function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("f751"),o("097d");var n=o("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("img",{staticClass:"logo",attrs:{src:o("9d64"),alt:""}}),this.$session.get("token")?n("sidebar-menu",{attrs:{theme:"white-theme",collapsed:!0,width:"200px",menu:e.menu},on:{"item-click":e.onItemClick}},[n("span",{attrs:{slot:"toggle-icon"},slot:"toggle-icon"},[n("font-awesome-icon",{attrs:{slot:"arrowRight",icon:"arrows-alt-h"},slot:"arrowRight"})],1)]):e._e(),n("router-view")],1)},l=[],a=o("4776"),i=(o("b15b"),o("44e9"),{name:"app",components:{SidebarMenu:a["SidebarMenu"]},mounted:function(){var e=this.$session.get("token");e?(this.axios.defaults.headers.common["Authorization"]=e,this.$router.push("/users")):this.$router.push("/login")},methods:{onItemClick:function(e,t){"log_out"==t.ref&&this.log_out()}},data:function(){return{menu:[{href:"/users",title:"Usuários",icon:{element:"font-awesome-icon",class:"side-bar-icon",attributes:{icon:"users"}}},{href:"",title:"Loja",ref:"store",icon:{element:"font-awesome-icon",class:"side-bar-icon",attributes:{icon:"store-alt"}},child:[{href:"",title:"Linhas",ref:"line",icon:{element:"font-awesome-icon",class:"side-bar-sub-icon",attributes:{icon:"tag"}}},{href:"",title:"Produtos",ref:"product",icon:{element:"font-awesome-icon",class:"side-bar-sub-icon",attributes:{icon:"tshirt"}}}]},{href:"",title:"Sair",ref:"log_out",icon:{element:"font-awesome-icon",class:"side-bar-icon",attributes:{icon:"sign-out-alt"}}}]}}}),r=i,c=o("2877"),u=Object(c["a"])(r,s,l,!1,null,null,null),f=u.exports,d=o("5f5b"),b=(o("f9e3"),o("2dd8"),o("bc3a")),m=o.n(b),p=o("a7fe"),v=o.n(p),_=o("ecee"),h=o("c074"),g=o("ad3d"),k=o("0628"),y=o.n(k),w=o("3a60"),C=o.n(w);n["default"].use(d["a"]),n["default"].use(v.a,m.a),_["c"].add(h["d"],h["c"],h["a"],h["i"],h["j"],h["r"],h["m"],h["o"],h["e"],h["f"],h["p"],h["g"],h["h"],h["b"],h["k"],h["l"],h["n"],h["q"]),n["default"].component("font-awesome-icon",g["a"]),n["default"].use(y.a,{persist:!0}),n["default"].use(C.a),n["default"].filter("format",function(e,t){return t?n["default"].filter(t)(e):e}),n["default"].filter("toCurrency",function(e){if("number"!==typeof e)return e;var t=new Intl.NumberFormat("en-US",{style:"currency",currency:"BRL",minimumFractionDigits:2});return t.format(e)}),n["default"].filter("negative",function(e){return"R"!=e[0]||"$"!=e[1]?e:"- "+e}),n["default"].filter("phone",function(e){if(!e)return"";var t="",o="";o=11==e.length?"(**) * ****-****":"(**) ****-****";var n=0,s=0;while(n<e.length&&s<o.length)"*"==o[s]?(t+=e[n],n++):t+=o[s],s++;return t}),n["default"].filter("cpf",function(e){if(!e)return"";var t="",o="***.***.***-**",n=0,s=0;while(n<e.length&&s<o.length)"*"==o[s]?(t+=e[n],n++):t+=o[s],s++;return t}),n["default"].prototype.$filters=n["default"].options.filters,n["default"].mixin({methods:{get_token:function(){var e=this.$session.get("token");this.axios.defaults.headers.common["Authorization"]=e},log_out:function(){this.$session.set("token",null),this.axios.defaults.headers.common["Authorization"]=null,location.reload()}}});var x=o("8c4f"),P=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("custom_table",{attrs:{table_info:e.table_info}})],1)},$=[],O=(o("456d"),o("ac6a"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.table_info.objs?o("div",{staticClass:"custom-table-container"},[o("div",{staticClass:"custom-table-title"},[e._v(e._s(e.table_info.title))]),o("div",{staticClass:"filter-div"},[o("b-container",[o("b-row",[o("b-col",{staticClass:"left",attrs:{cols:"5"}},[o("font-awesome-icon",{staticClass:"filter-icon",attrs:{icon:"search"}}),o("b-form-input",{staticClass:"filter-field",model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),o("b-col",{staticClass:"left",attrs:{cols:"3"}},[o("font-awesome-icon",{staticClass:"filter-icon",attrs:{icon:"filter"}}),o("b-form-select",{staticClass:"filter-field",attrs:{options:e.table_info.filterOnOptions},model:{value:e.filterOn[0],callback:function(t){e.$set(e.filterOn,0,t)},expression:"filterOn[0]"}})],1)],1)],1)],1),o("div",{staticClass:"select-all-div left"},[o("b-form-checkbox",{staticClass:"select-all",attrs:{switch:""},on:{change:e.toggle_select}},[e._v("\n      Selecionar Todos\n      ")]),o("div",{staticClass:"filter-quant-div"},[o("font-awesome-icon",{staticClass:"filter-icon",attrs:{icon:"list-ol"}}),o("b-form-select",{staticClass:"filter-quant",attrs:{size:"sm",options:e.itemsPerPageOptions},model:{value:e.itemsPerPage,callback:function(t){e.itemsPerPage=t},expression:"itemsPerPage"}})],1)],1),o("div",{staticClass:"custom-table-card"},[o("b-table",{ref:"customTable",attrs:{hover:"","head-variant":"dark",selectable:null!=e.table_info.options.delete,filter:e.filter,filterIncludedFields:e.filterOn,items:e.table_info.objs,fields:e.table_info.fields,"current-page":e.currentPage,"per-page":e.itemsPerPage},on:{"row-selected":e.onRowSelected,filtered:e.onFiltered},scopedSlots:e._u([{key:"[active]",fn:function(t){return[1==t.value?o("font-awesome-icon",{staticClass:"filter-icon true-icon",attrs:{icon:"check-circle"}}):e._e(),0==t.value?o("font-awesome-icon",{staticClass:"filter-icon false-icon",attrs:{icon:"times-circle"}}):e._e()]}},{key:"[phone]",fn:function(t){return[e._v("\n        "+e._s(e._f("phone")(t.value))+"\n    ")]}},{key:"[cpf]",fn:function(t){return[e._v("\n        "+e._s(e._f("cpf")(t.value))+"\n    ")]}},{key:"[name]",fn:function(t){return[o("div",{staticClass:"a",on:{click:function(o){return e.open_edit(t)}}},[e._v(e._s(t.value))])]}}],null,!1,3436706353)})],1),o("div",{staticClass:"buttons-div"},[o("b-container",[o("b-row",[o("b-col",{staticClass:"left",attrs:{cols:"1"}},[e.table_info.options.delete?o("b-button",{staticClass:"outline-button",on:{click:function(t){return e.open_delete_selected()}}},[o("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1):e._e()],1),o("b-col",{attrs:{cols:"10"}},[o("b-pagination",{attrs:{"total-rows":0==e.num_items?e.table_info.objs.length:e.num_items,"per-page":e.itemsPerPage,align:"center"},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),o("b-col",{staticClass:"right",attrs:{cols:"1"}},[e.table_info.options.add?o("b-button",{on:{click:function(t){return e.open_add()}}},[o("font-awesome-icon",{attrs:{icon:"plus"}})],1):e._e()],1)],1)],1)],1),o("b-modal",{attrs:{id:"modal-delete","no-stacking":""}},[o("template",{slot:"modal-header"},[o("div")]),o("template",{slot:"default"},[o("div",[o("div",{staticClass:"modal-title"},[e._v("\n          Deletar\n        ")]),o("div",{staticClass:"modal-text"},[e._v("\n          Tem certeza que deseja deletar os itens abaixo?\n        ")]),e._l(e.selected,function(t){return o("div",{staticClass:"delete-item-div"},[e._v("\n          "+e._s(t.repr)+"\n        ")])})],2),o("b-container",{staticClass:"delete-buttons-div"},[o("b-row",[o("b-col",{attrs:{cols:"6"}},[o("b-button",{staticClass:"delete-button outline-button",attrs:{block:""},on:{click:function(t){return e.$bvModal.hide("modal-delete")}}},[e._v("\n              Cancelar\n          ")])],1),o("b-col",{attrs:{cols:"6"}},[o("b-button",{staticClass:"delete-button",attrs:{block:""},on:{click:function(t){return e.delete_selected()}}},[e._v("\n              Sim\n          ")])],1)],1)],1)],1),o("template",{slot:"modal-footer"},[o("div")])],2),o("b-modal",{attrs:{id:"modal-save",size:"lg","no-stacking":""}},[o("template",{slot:"modal-header"},[o("div")]),o("template",{slot:"default"},[o("div",[o("div",{staticClass:"modal-title"},[e._v("\n          "+e._s(e.table_info.title_singular)+"\n        ")])]),o("b-container",{staticClass:"edit-div"},[e._l(e.table_info.saveFields,function(t){return o("div",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[t.read_only&&"edit"==e.save_type?o("div",[o("div",{staticClass:"label-item"},[e._v("\n                  "+e._s(t.label)+"\n                ")]),"bool"!=t.type?o("div",{staticClass:"value-item"},[e._v("\n                    "+e._s(e._f("format")(t.value,t.filter))+"\n                ")]):e._e(),"bool"==t.type?o("div",{staticClass:"value-item"},[o("b-form-checkbox",{attrs:{disabled:""},model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"item.value"}})],1):e._e()]):e._e(),t.read_only?e._e():o("div",[o("div",{staticClass:"label-item"},[e._v("\n                  "+e._s(t.label)+"\n                ")]),"select"!=t.type&&"bool"!=t.type?o("div",{staticClass:"field-item"},[t.mask?o("div",{staticClass:"fill"},[o("b-form-input",{directives:[{name:"mask",rawName:"v-mask",value:t.mask,expression:"item.mask"}],model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"item.value"}})],1):e._e(),t.mask?e._e():o("div",{staticClass:"fill"},[o("b-form-input",{model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"item.value"}})],1)]):e._e(),"select"==t.type?o("div",{staticClass:"field-item"},[o("b-form-select",{attrs:{options:t.options},model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"item.value"}})],1):e._e(),"bool"==t.type?o("div",{staticClass:"field-item"},[o("b-form-checkbox",{model:{value:t.value,callback:function(o){e.$set(t,"value",o)},expression:"item.value"}})],1):e._e()])])],1)],1)}),"add"==e.save_type&&e.table_info.options.add||"edit"==e.save_type&&e.table_info.options.edit?o("b-row",{staticClass:"edit-div"},[o("b-col",{attrs:{cols:"6"}},[o("b-button",{staticClass:"delete-button outline-button",attrs:{block:""},on:{click:function(t){return e.$bvModal.hide("modal-save")}}},[e._v("\n              Cancelar\n          ")])],1),o("b-col",{attrs:{cols:"6"}},[o("b-button",{staticClass:"delete-button",attrs:{block:""},on:{click:function(t){return e.save()}}},[e._v("\n              Salvar\n          ")])],1)],1):e._e()],2)],1),o("template",{slot:"modal-footer"},[o("div")])],2)],1):e._e()}),F=[],j=(o("a481"),o("4a62"),{name:"custom_table",components:{},props:["table_info"],data:function(){return{selected:[],filter:"",itemsPerPageOptions:[5,10,15,20],filterOn:[""],itemsPerPage:10,currentPage:1,num_items:0,save_type:null}},computed:{},methods:{onRowSelected:function(e){this.selected=e},onFiltered:function(e){this.num_items=e.length,this.currentPage=1},toggle_select:function(e){e?this.$refs.customTable.selectAllRows():this.$refs.customTable.clearSelected()},open_delete_selected:function(){this.selected.length>0&&this.$bvModal.show("modal-delete")},delete_selected:function(){var e=this;this.axios.post(process.env.VUE_APP_API_URL+this.table_info.options.delete,{items:this.selected}).then(function(e){location.reload()},function(t){401==t.response.status&&e.log_out()})},open_edit:function(e){var t=this;this.save_type="edit";for(var o=0;o<this.table_info.saveFields.length;o++)this.table_info.saveFields[o].value=e.item[this.table_info.saveFields[o].key];this.$bvModal.show("modal-save"),setTimeout(function(){t.$refs.customTable.clearSelected()},100)},open_add:function(){var e=this;this.save_type="add";for(var t=0;t<this.table_info.saveFields.length;t++)this.table_info.saveFields[t].value=this.table_info.saveFields[t].default;this.$bvModal.show("modal-save"),setTimeout(function(){e.$refs.customTable.clearSelected()},100)},save:function(){var e=this,t="";if("edit"==this.save_type?t=this.table_info.options.edit:"add"==this.save_type&&(t=this.table_info.options.add),t){for(var o={},n=0;n<this.table_info.saveFields.length;n++)this.table_info.saveFields[n].mask?o[this.table_info.saveFields[n].key]=this.table_info.saveFields[n].value.replace(/\D+/g,""):o[this.table_info.saveFields[n].key]=this.table_info.saveFields[n].value;this.axios.post(process.env.VUE_APP_API_URL+t,o).then(function(e){location.reload()},function(t){401==t.response.status&&e.log_out()})}else location.reload()}}}),S=j,T=Object(c["a"])(S,O,F,!1,null,null,null),M=T.exports,E={name:"customers",components:{custom_table:M},props:[],data:function(){return{info:[{key:"id",label:"ID",table_options:{sortable:!0},save_options:{read_only:!0,type:null,mask:null,options:null,filter:null,default:null}},{key:"name",label:"Nome",table_options:{sortable:!0},save_options:{read_only:!1,type:"text",mask:null,options:null,filter:null,default:""}},{key:"email",label:"E-mail",table_options:{sortable:!0},save_options:{read_only:!1,type:"email",mask:null,options:null,filter:null,default:""}},{key:"phone",label:"Telefone",table_options:{sortable:!1},save_options:{read_only:!1,type:"text",mask:"(##) #####-####",options:null,filter:"phone",default:""}},{key:"cpf",label:"CPF",table_options:{sortable:!1},save_options:{read_only:!1,type:"text",mask:"###.###.###-##",options:null,filter:"cpf",default:""}},{key:"first_contact",label:"Primeiro Contato",table_options:{sortable:!0},save_options:{read_only:!1,type:"select",mask:null,options:[{value:"Amigo/Familiar",text:"Amigo/Familiar"},{value:"Facebook",text:"Facebook"},{value:"Instagram",text:"Instagram"},{value:"Google",text:"Google"},{value:"Outro",text:"Outro"}],filter:null,default:""}},{key:"active",label:"Ativo",table_options:{sortable:!0},save_options:{read_only:!1,type:"bool",mask:null,options:null,filter:null,default:!1}}],table_info:{title:"Usuários",title_singular:"Usuário",objs:null,fields:[],filterOnOptions:[{value:"",text:""}],options:{add:"customers",delete:"delete_customers",edit:"edit_customers"},saveFields:[]}}},computed:{},mounted:function(){for(var e=this,t=function(t){var o={key:e.info[t].key,label:e.info[t].label};Object.keys(e.info[t].table_options).forEach(function(n){o[n]=e.info[t].table_options[n]}),e.table_info.fields.push(o);var n={value:e.info[t].key,text:e.info[t].label};e.table_info.filterOnOptions.push(n);var s={key:e.info[t].key,label:e.info[t].label,value:null};Object.keys(e.info[t].save_options).forEach(function(o){s[o]=e.info[t].save_options[o]}),e.table_info.saveFields.push(s)},o=0;o<this.info.length;o++)t(o);this.get_token(),this.get_users()},methods:{get_users:function(){var e=this;this.axios.get("http://127.0.0.1:5000/customers").then(function(t){e.table_info.objs=t.data},function(t){401==t.response.status&&e.log_out()})}}},A=E,I=(o("340e"),Object(c["a"])(A,P,$,!1,null,"1ab34e97",null)),R=I.exports,z=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-container",{staticClass:"login-div"},[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("div",{staticClass:"modal-title"},[e._v("Entrar")])])],1),o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-input",{attrs:{placeholder:"Username"},model:{value:e.login.username,callback:function(t){e.$set(e.login,"username",t)},expression:"login.username"}}),e.errors.login&&e.errors.login.username?o("div",{staticClass:"error"},[e._v("\n          "+e._s(e.errors.login.username[0])+"\n        ")]):e._e()],1)],1),o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-input",{attrs:{type:"password",placeholder:"Senha"},model:{value:e.login.password,callback:function(t){e.$set(e.login,"password",t)},expression:"login.password"}}),e.errors.login&&e.errors.login.password?o("div",{staticClass:"error"},[e._v("\n          "+e._s(e.errors.login.password[0])+"\n        ")]):e._e()],1)],1),o("b-row",[o("b-button",{staticClass:"login-button",on:{click:function(t){return e.do_login()}}},[e._v("\n        Enviar\n      ")])],1)],1)],1)},U=[],q={name:"login",components:{},props:[],data:function(){return{login:{username:"",password:""},errors:{login:null}}},computed:{},mounted:function(){},methods:{do_login:function(){var e=this;this.axios.post("http://127.0.0.1:5000/login_admin",this.login).then(function(t){t.data.success?(e.$session.set("token",t.data.token),location.reload()):e.errors.login=t.data.errors})}}},D=q,L=(o("9321"),Object(c["a"])(D,z,U,!1,null,"5d111ebf",null)),N=L.exports;n["default"].use(x["a"]);var G=new x["a"]({routes:[{path:"/users",name:"users",component:R},{path:"/login",name:"login",component:N}]});n["default"].config.productionTip=!1,new n["default"]({router:G,render:function(e){return e(f)}}).$mount("#app")},9321:function(e,t,o){"use strict";var n=o("441a"),s=o.n(n);s.a},"9d64":function(e,t,o){e.exports=o.p+"img/logo.01ce073e.png"},fbff:function(e,t,o){}});
//# sourceMappingURL=app.36af0f6f.js.map